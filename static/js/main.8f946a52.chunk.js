(this["webpackJsonppoetry-app"]=this["webpackJsonppoetry-app"]||[]).push([[0],{19:function(e,t,n){e.exports=n(36)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(12),o=n.n(s),r=(n(24),n(14)),c=n(3),d=n(9),l=n(4),u=n(5),h=n(8),g=n(6),p=n(2),b=n(7),m=n(10),E=n.n(m),y=(n(25),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={onStop:this.props.onStop,onDrag:this.props.handleDrag};return a.a.createElement(E.a,Object.assign({bounds:"parent"},e),a.a.createElement("div",{textid:this.props.textId,className:"text",onDoubleClick:this.props.editText,style:{position:"absolute",top:this.props.editLocation?"".concat(this.props.editLocation.y,"px"):"0px",left:this.props.editLocation?"".concat(this.props.editLocation.x,"px"):"0px"}},this.props.children))}}]),t}(a.a.Component)),v=(n(26),function(e){return a.a.createElement("div",{className:"input",onKeyPress:function(t){13===t.which&&e.doneEditing("ADD_LINE")},style:{position:"absolute",top:"".concat(e.editLocation.y,"px"),left:"".concat(e.editLocation.x,"px")}},a.a.createElement("input",{type:"text",autoFocus:!0,defaultValue:e.editValue,className:"input-text",onChange:e.handleInput}),a.a.createElement("button",{className:"input-button add-button",onClick:function(){return e.doneEditing("ADD_LINE")}},"add"),a.a.createElement("button",{className:"input-button exit-button",onClick:function(){return e.doneEditing("EXIT")}},"exit"),a.a.createElement("button",{className:"input-button remove-button",onClick:function(){return e.doneEditing("REMOVE_LINE")}},"remove"))}),f=(n(27),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={lines:{},isEditing:!1,editValue:"",pendingLine:"",currentDraggedLine:"",editLocation:{x:"",y:""}},n.editLine=n.editLine.bind(Object(p.a)(n)),n.doneEditing=n.doneEditing.bind(Object(p.a)(n)),n.handleInput=n.handleInput.bind(Object(p.a)(n)),n.editText=n.editText.bind(Object(p.a)(n)),n.addLine=n.addLine.bind(Object(p.a)(n)),n.generateKey=n.generateKey.bind(Object(p.a)(n)),n.onStop=n.onStop.bind(Object(p.a)(n)),n.handleDrag=n.handleDrag.bind(Object(p.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"onStop",value:function(){if(this.state.currentDraggedLine){var e=this.createText(this.state.currentDraggedLine.props.children,this.state.currentDraggedLine.key);this.setState({lines:Object(d.a)({},this.state.lines,Object(c.a)({},e.key,e)),currentDraggedLine:""})}}},{key:"handleDrag",value:function(e){this.state.currentDraggedLine||this.setState({currentDraggedLine:this.state.lines[e.target.getAttribute("textid")]})}},{key:"editLine",value:function(e){this.state.isEditing||(this.setState({isEditing:!0}),"page"===e.target.getAttribute("class")?this.setState({editLocation:{x:e.clientX-(window.innerWidth-500)/2,y:e.clientY-(window.innerHeight-700)/2}}):this.setState({editLocation:{x:e.target.getBoundingClientRect().x-(window.innerWidth-500)/2,y:e.target.getBoundingClientRect().y-(window.innerHeight-700)/2}}))}},{key:"editText",value:function(e){e.stopPropagation(),this.editLine(e);var t=this.state.lines[e.target.getAttribute("textid")];this.setState({pendingLine:t}),this.setState({lines:Object(d.a)({},this.state.lines,Object(c.a)({},e.target.getAttribute("textid"),""))}),this.setState({editValue:t.props.children})}},{key:"doneEditing",value:function(e){switch(e){case"ADD_LINE":this.addLine(this.state.editValue);break;case"EXIT":if(this.state.pendingLine){var t=this.createText(this.state.pendingLine.props.children,this.state.pendingLine.key);this.setState({lines:Object(d.a)({},this.state.lines,Object(c.a)({},this.state.pendingLine.key,t))})}this.setState({pendingLine:""});break;case"REMOVE_LINE":this.setState({lines:Object(d.a)({},this.state.lines,Object(c.a)({},this.state.pendingLine.key,""))}),this.setState({pendingLine:""})}this.setState({isEditing:!1}),this.setState({editValue:""}),this.setState({pendingLine:""})}},{key:"createText",value:function(e,t,n){var i=t||this.generateKey(),s=n||this.state.editLocation;return a.a.createElement(y,{editText:this.editText,editLocation:s,onStop:this.onStop,handleDrag:this.handleDrag,key:i,textId:i},e)}},{key:"generateKey",value:function(){return(new Date).toISOString()}},{key:"addLine",value:function(e){if(""!==e.trim()){var t=this.generateKey();this.setState({lines:Object(d.a)({},this.state.lines,Object(c.a)({},t,this.createText(e,t)))})}}},{key:"handleInput",value:function(e){this.setState({editValue:e.target.value})}},{key:"render",value:function(){return a.a.createElement("div",{className:"page",onDoubleClick:this.editLine,style:{marginTop:(window.innerHeight-700)/2}},Object.values(this.state.lines),this.props.guides,this.state.isEditing?a.a.createElement(v,{doneEditing:this.doneEditing,handleInput:this.handleInput,editValue:this.state.editValue,editLocation:this.state.editLocation}):"")}}]),t}(a.a.Component)),k=n(16),L=n.n(k),O=n(17),j=n(18),x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).capturePage=n.capturePage.bind(Object(p.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"capturePage",value:function(){L()(document.querySelector(".page")).then((function(e){document.body.appendChild(e)}))}},{key:"render",value:function(){return a.a.createElement(i.Fragment,null,a.a.createElement("button",{onClick:this.capturePage,className:"capture-button"},a.a.createElement(O.a,{icon:j.a})))}}]),t}(a.a.Component),S=function(e){return a.a.createElement(i.Fragment,null,e.guidesHidden?a.a.createElement("button",{className:"guide-button",onClick:e.showGuides},"show guides"):a.a.createElement("button",{className:"guide-button",onClick:e.hideGuides},"hide guides"))},w=(n(33),function(e){return a.a.createElement("div",null,a.a.createElement(x,null),a.a.createElement(S,{showGuides:e.showGuides,hideGuides:e.hideGuides,guidesHidden:e.guidesHidden}))}),D=(n(34),function(e){return"vertical"===e.orientation?a.a.createElement(E.a,{axis:"x",bounds:"parent"},e.isHidden?a.a.createElement("div",{className:"guide-vertical",style:{display:"none"}}):a.a.createElement("div",{className:"guide-vertical"})):a.a.createElement(E.a,{axis:"y",bounds:"parent"},e.isHidden?a.a.createElement("div",{className:"guide-horizontal",style:{display:"none"}}):a.a.createElement("div",{className:"guide-horizontal"}))});n(35);var H=function(){var e=Object(i.useState)([a.a.createElement(D,{orientation:"vertical",isHidden:!0,key:1}),a.a.createElement(D,{orientation:"vertical",isHidden:!0,key:2}),a.a.createElement(D,{orientation:"horizontal",isHidden:!0,key:3}),a.a.createElement(D,{orientation:"horizontal",isHidden:!0,key:4})]),t=Object(r.a)(e,2),n=t[0],s=t[1],o=Object(i.useState)(!0),c=Object(r.a)(o,2),d=c[0],l=c[1];return a.a.createElement(i.Fragment,null,a.a.createElement(f,{guides:n}),a.a.createElement(w,{showGuides:function(){var e=[a.a.createElement(D,{orientation:"vertical",isHidden:!1,key:1}),a.a.createElement(D,{orientation:"vertical",isHidden:!1,key:2}),a.a.createElement(D,{orientation:"horizontal",isHidden:!1,key:3}),a.a.createElement(D,{orientation:"horizontal",isHidden:!1,key:4})];s(e),l(!1)},hideGuides:function(){var e=[a.a.createElement(D,{orientation:"vertical",isHidden:!0,key:1}),a.a.createElement(D,{orientation:"vertical",isHidden:!0,key:2}),a.a.createElement(D,{orientation:"horizontal",isHidden:!0,key:3}),a.a.createElement(D,{orientation:"horizontal",isHidden:!0,key:4})];s(e),l(!0)},guidesHidden:d}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.8f946a52.chunk.js.map